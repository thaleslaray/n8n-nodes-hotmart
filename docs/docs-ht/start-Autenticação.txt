### Como autenticar na API da Hotmart (Oauth 2.0)

A autenticação da API Hotmart segue o padrão Oauth 2.0, utilizando access tokens obtidos via client credentials. Segue o passo a passo para configuração:

---

#### 1. Gerar Credenciais

1. Acesse: **Ferramentas > [Credenciais Developers](https://app-vlc.hotmart.com/tools/credentials)**
2. Clique em **Criar Credencial** e forneça um nome de referência.
3. Caso a credencial seja para o ambiente de teste **sandbox**, marque a opção _sandbox_ no campo Tipo. Para produção, deixe desmarcado e confirme.
   - Após criada, não é possível alterar o tipo. Se necessário, crie uma nova.
4. Serão geradas 3 informações:
   - `client_id`
   - `client_secret`
   - `token` do tipo Basic

**Atenção:** Mantenha suas credenciais em segurança. Se suspeitar de exposição, gere novas credenciais imediatamente.

---

#### 2. Obter access_token

Faça uma requisição POST conforme abaixo:

```bash
curl --location --request POST 'https://api-sec-vlc.hotmart.com/security/oauth/token?grant_type=client_credentials&client_id=:client_id&client_secret=:client_secret' \
  --header 'Content-Type: application/json' \
  --header 'Authorization: Basic :basic'
```

**Parâmetros:**
- `client_id`: Seu Client ID gerado
- `client_secret`: Seu Client Secret gerado
- O header `Authorization` deve conter seu token Basic

---

#### 3. Resposta da API

Se a requisição for bem-sucedida, será retornado um payload como:

```json
{
  "access_token": "wxyz",
  "token_type": "bearer",
  "expires_in": 172799,
  "scope": "read write",
  "jti": "da2eff63-754d-4v76-9b3a-19bdb5cc8f36"
}
```

**Campos do retorno:**
- `access_token`: Token de acesso para autenticação
- `token_type`: Tipo do token, geralmente "bearer"
- `expires_in`: Tempo em segundos até o token expirar
- `scope`: Escopos concedidos (por exemplo, "read write")
- `jti`: Identificador único do token

Quando o token expirar, será retornado erro 401. Nesses casos, gere um novo access_token utilizando as MESMAS credenciais (`client_id`, `client_secret`, `Basic`).

---

**Links úteis:**
- Documentação oficial: https://developers.hotmart.com/docs/pt-BR/start/app-auth#
- Informações sobre ambiente de sandbox: https://developers.hotmart.com/docs/pt-BR/start/sandbox
