#!/bin/bash

# ðŸš€ Script Principal de Desenvolvimento
# InicializaÃ§Ã£o completa com GuardiÃ£o automÃ¡tico

echo "ðŸš€ n8n-nodes-hotmart - Ambiente de Desenvolvimento"
echo "=================================================="

# Verificar se estamos na raiz do projeto
if [ ! -f "package.json" ]; then
    echo "âŒ Execute este script na raiz do projeto!"
    exit 1
fi

# Parar processos anteriores
pkill -f "guardiao-watch" 2>/dev/null || true
pkill -f "tsc --watch" 2>/dev/null || true

echo "âœ… Iniciando ambiente completo..."
echo ""

# Executar npm run dev (que chama dev-with-guardiao.sh)
npm run dev